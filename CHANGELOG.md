# تاریخچه تغییرات (Changelog)

تمام تغییرات مهم این پروژه در این فایل مستند می‌شود.

## [1.1.0] - 2025-09-04

### اضافه شده (Added)
- **سیستم مدیریت تنظیمات مبتنی بر دیتابیس**
  - جدول `settings` برای ذخیره تنظیمات سیستم
  - گروه‌بندی تنظیمات (عمومی، هوش مصنوعی، پیامک، فوتر)
  - اسکریپت‌های مهاجرت از JSON به دیتابیس
- **پشتیبانی بهتر از XAMPP در macOS**
  - تشخیص خودکار Unix Socket
  - اتصال بهینه به MySQL XAMPP
- **بهبودهای کلاس Database**
  - متد `inTransaction()` برای بررسی وضعیت تراکنش
  - مدیریت خطاهای بهتر
  - پشتیبانی از تراکنش‌های امن
- **اسکریپت‌های مدیریت پایگاه داده**
  - `database/apply_settings.php` - ایجاد جدول تنظیمات
  - `database/migrate_settings.php` - انتقال از JSON به دیتابیس
  - مستندات کامل مهاجرت در `database/settings_migration.md`

### تغییر یافته (Changed)
- **کلاس‌های سرویس به‌روزرسانی شد**
  - `OpenAIService` اکنون تنظیمات را از دیتابیس می‌خواند
  - `SmsService` اکنون تنظیمات را از دیتابیس می‌خواند
- **AdminController بهبود یافت**
  - متدهای `getSettings()` و `updateSettings()` برای کار با دیتابیس
  - مدیریت گروه‌های تنظیمات
- **مستندات به‌روزرسانی شد**
  - راهنمای نصب با اطلاعات جدید دیتابیس
  - مستند جدید `settings.md` برای مدیریت تنظیمات
  - بهبود `development.md` با اطلاعات سیستم تنظیمات

### برطرف شده (Fixed)
- مشکل اتصال PDO به MySQL در XAMPP macOS
- مشکل ساختار جدول settings قدیمی
- مشکل تعریف ثابت‌ها در اسکریپت‌های مهاجرت
- مشکلات socket در اتصال به دیتابیس

### امنیت (Security)
- بهبود امنیت ذخیره تنظیمات با استفاده از دیتابیس
- مدیریت تراکنش‌های امن برای جلوگیری از فساد داده‌ها

---

## [1.0.0] - 2025-09-03

### اضافه شده (Added)
- ساختار اولیه پروژه با معماری MVC
- پایگاه داده و جداول اصلی
- صفحه اصلی و قالب کلی سایت  
- سیستم مسیریابی (روتر)
- قابلیت‌های PWA
- پنل مدیریت اولیه
- تنظیمات اولیه هوش مصنوعی و پیامک
- مستندات پایه پروژه

### تغییر یافته (Changed)
- تنظیم اولیه کانفیگ‌های پروژه

### برطرف شده (Fixed)
- نصب و راه‌اندازی اولیه پروژه
